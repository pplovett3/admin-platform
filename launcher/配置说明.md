# 启动器配置说明

## 问题：点击"启动课程"显示"未找到配置信息"

### 原因
启动器需要知道每个课程对应的Unity/UE5可执行文件路径，但目前：
1. 数据库中还没有课程数据
2. `courses.json` 配置文件为空

---

## 解决方案

### 第一步：创建课程（管理后台）

1. **访问管理后台**
   ```
   http://localhost:3001
   ```

2. **登录管理员账号**
   - 手机号：`13800000000`
   - 密码：`admin123`

3. **创建课程**
   - 点击左侧菜单"课程管理"
   - 点击"新建课程"按钮
   - 填写课程信息：
     - 课程名称：例如 `小鹏SU7智能驾驶体验`
     - 课程编号：例如 `SU7001`
     - 课程描述：选填
   - 点击"创建"保存
   - **记下创建后的课程ID**（在课程列表中可以看到）

### 第二步：配置启动器

编辑 `E:\上信校产线动画\admin-platform\launcher\courses.json` 文件：

```json
{
  "courses": [
    {
      "courseId": "你的课程ID（从管理后台获取）",
      "appPath": "C:/你的Unity或UE5应用/应用名.exe",
      "name": "课程名称"
    }
  ]
}
```

#### 示例配置：

```json
{
  "courses": [
    {
      "courseId": "673a1234567890abcdef1234",
      "appPath": "D:/Unity Projects/XP_SU7/Build/XP_SU7.exe",
      "name": "小鹏SU7智能驾驶体验"
    }
  ]
}
```

### 第三步：生成激活码

1. 在管理后台点击"激活码管理"
2. 点击"生成激活码"
3. 选择刚才创建的课程
4. 设置数量和有效期
5. 复制生成的激活码

### 第四步：激活并启动

1. 关闭并重新启动 Electron 启动器
2. 登录学生账号
3. 点击课程卡片的"激活课程"按钮
4. 输入激活码
5. 激活成功后，点击"启动课程"

---

## 临时测试方案（无实际应用程序）

如果你暂时没有Unity/UE5应用程序，可以创建一个测试程序：

### 创建测试应用

1. 创建一个简单的批处理文件 `test-app.bat`：

```batch
@echo off
echo 课程启动成功！
echo 接收到的Token: %1
pause
```

2. 在 `courses.json` 中配置：

```json
{
  "courses": [
    {
      "courseId": "你的课程ID",
      "appPath": "C:/test-app.bat",
      "name": "测试课程"
    }
  ]
}
```

---

## 常见问题

### Q1: 如何获取课程ID？
**A:** 在管理后台的"课程管理"页面，课程列表中会显示每个课程的ID（通常是24位16进制字符串）

### Q2: Unity/UE5应用路径怎么填？
**A:** 
- Unity打包后的exe文件路径，例如：`D:/UnityBuilds/MyCourse/MyCourse.exe`
- UE5打包后的exe文件路径，例如：`E:/UE5Projects/MyCourse/Windows/MyCourse.exe`

### Q3: 可以有多个课程吗？
**A:** 可以！在 `courses` 数组中添加多个课程配置：

```json
{
  "courses": [
    {
      "courseId": "课程ID1",
      "appPath": "路径1/app1.exe",
      "name": "课程1"
    },
    {
      "courseId": "课程ID2",
      "appPath": "路径2/app2.exe",
      "name": "课程2"
    }
  ]
}
```

### Q4: 修改配置后需要重启启动器吗？
**A:** 是的，修改 `courses.json` 后需要关闭并重新启动 Electron 启动器。

---

## 下一步

完成配置后：
1. 重启启动器
2. 激活课程
3. 点击"启动课程"
4. Unity/UE5应用会启动并收到JWT token

应用可以通过命令行参数获取token：
- Unity: `--token=<JWT>`
- UE5: `-token=<JWT>`

